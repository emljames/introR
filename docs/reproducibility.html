<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Reproducible practices</title>

<script src="site_libs/header-attrs-2.27/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Introduction to R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="setup.html">Set up</a>
</li>
<li>
  <a href="navigating_R.html">Navigating R</a>
</li>
<li>
  <a href="data_wrangling.html">Data wrangling</a>
</li>
<li>
  <a href="reproducibility.html">Reproducibility</a>
</li>
<li>
  <a href="resources.html">Resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Reproducible practices</h1>

</div>


<div id="r-is-for-reproducibility" class="section level1">
<h1>R is for Reproducibility</h1>
<p>One of the advantages of conducting your data processing and analysis
steps in <em>R</em> is that it can be readily shared on platforms such
as the Open Science Framework. Using <em>R</em> has several benefits in
this regard:</p>
<ul>
<li><p>You can readily strip any information that you don’t want to
share (e.g., Prolific IDs, IP addresses, etc.). Where appropriate, you
can easily create more than one version of the dataset for different
levels of access.</p></li>
<li><p>All your data cleaning steps are documented in a transparent and
reproducible way.</p></li>
<li><p>R is free and widely used, allowing anyone who has access to your
scripts and data to reproduce the results (in theory!).</p></li>
<li><p>You can annotate your code to communicate your decisions and
issues along the way (helpful for others AND future you).</p></li>
<li><p>You can use R Markdown to create readable output files (see
below!). These can be helpful for quicker viewing, for making analyses
transparent when you <em>can’t</em> share the data, and creating
readable output for those who don’t use R.</p></li>
</ul>
</div>
<div id="creating-annotated-output-files" class="section level1">
<h1>Creating annotated output files</h1>
<p>Today we have been working in an R Markdown file (.Rmd). This differs
from a straight forward R script (.R) in that it integrates regular
text, code, and output more efficiently, whereas an .R script interprets
everything as code by default (essentially like the grey sections we’ve
typing code in today). There are many people who will <em>always</em>
use R Markdown (or the newer version, <em>Quarto</em>) when they use R.
Some people even use it to write their entire manuscripts in a
reproducible way!</p>
<p>There are many different features of R Markdown that could form a
whole workshop on its own. However, with very few extra bits, we have
already created a structured output from today’s work. Here are the
features that we set up for you in the template file:</p>
<ul>
<li><p>We used the # symbol in regular text to denote headings and
subsections. # marks the level 1 heading, ## level 2, and ### level
3.</p></li>
<li><p>We set up code chunks, which have several features:</p>
<ul>
<li><p>They start and end with three backticks (```) - located on the
keyboard above the tab key, to the left of the 1.</p></li>
<li><p>The first set of backticks are followed by a set of curly
brackets <code>{}</code> containing chunk information. The first most
important thing in here is the letter <code>r</code>, to instruct the
computer to interpret the code as R code.</p></li>
<li><p>The second thing we included in the curly brackets is a code
chunk label. These follow the same rules as column names (i.e., no
spaces!). If we want to create an output file, then every code chunk
needs a different label.</p></li>
<li><p>There several other options for setting up your code chunks
(e.g., whether the file prints the code and output), but we haven’t gone
into this today.</p></li>
</ul></li>
</ul>
<p>There are several options for formatting your text in different ways.
You can incorporate these directly in the source code, but nowadays
there’s a much easier editing option in RStudio. If you click on Visual
at the top of the script window, it will bring up a text editor with
Word-like features. You can switch back and forth between these two
editing styles as needed.</p>
<p>So how to we turn that into a nice output file? Well, we try clicking
“Knit” at the top of the window! This might be a big ask after today’s
short workshop, but let’s try it and see what happens.</p>
<blockquote>
<p><strong>Debugging:</strong> A few things that might prevent it
working:</p>
<ul>
<li>Not having the relevant packages installed</li>
<li>Having unfinished code chunks - if R hits an error along the way, it
will stop executing the file. If this happens, you could try commenting
out that code section as a temporary solution.</li>
<li>Having code chunks with duplicate names</li>
</ul>
</blockquote>
<p>If it’s not working at the end of this workshop but you’d like to get
it up and running, reach out for us for some support.</p>
</div>
<div id="good-practices" class="section level1">
<h1>Good practices</h1>
<p>Here are a few key principles:</p>
<ol style="list-style-type: decimal">
<li>Code everything! (as much as you can). This is hard when you are a
beginner. Why take an hour to make the stupid line of code work when you
could open the file in Excel and delete the column in mere seconds? But
future you will be grateful when you have to redownload some data and
start again. You only need to figure it out once (ask for support if you
need to!), and you’ll be super whizzy in the future.</li>
<li>Never delete raw data (unless there are GDPR/ethics implications) -
keep raw and processed data separate.</li>
<li>Use sensible names for variables and for objects. This will help to
make your code more readable, and avoid mistakes. For example,
<code>data_session1</code> is more informative than
<code>data2</code>.</li>
<li>Comment everything! Well, not <em>everything.</em> But document your
key steps along the way so that it’s readable.</li>
<li>Chunk your data processing and analysis steps for readability -
either in separate files, and/or using features in R Markdown.</li>
<li>Try to document package versions. One downside to R’s updating and
ongoing work is that packages and functions can change, meaning that
your code is not entirely future proof. There are some elegant ways to
incorporate version control in your scripts, but a simple way to
document this you can include a call to <code>sessionInfo()</code> at
the end of your .Rmd script.</li>
</ol>
<p>Remember, a benefit of openness is that you can look to others for
examples! The Open Science Framework is ideal for this. Of course there
is a lot of variability in coding practices, but looking at how other
people go about structuring and reporting their analyses can be a good
way to learn. There’s no one right way, so you can decide what you think
works well for your particular situation.</p>
</div>
<div id="the-final-word" class="section level1">
<h1>The final word</h1>
<p>Finally, <strong>just do the best you can!</strong> It’s all well and
good to have standards to aim for, but starting out in R can be hard.
You can guarantee that our early scripts didn’t look anywhere near our
versions now, and that’s OK! R <em>is</em> hard, but it’s also kind of
fun.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
